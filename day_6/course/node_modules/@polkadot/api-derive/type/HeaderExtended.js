import { __classPrivateFieldGet, __classPrivateFieldSet } from "tslib";
import { extractAuthor } from './util.js';
export function createHeaderExtended(registry, header, validators, author) {
    var _Implementation_author;
    // an instance of the base extrinsic for us to extend
    const HeaderBase = registry.createClass('Header');
    class Implementation extends HeaderBase {
        constructor(registry, header, validators, author) {
            super(registry, header);
            _Implementation_author.set(this, void 0);
            __classPrivateFieldSet(this, _Implementation_author, author || extractAuthor(this.digest, validators || []), "f");
            this.createdAtHash = header?.createdAtHash;
        }
        /**
         * @description Convenience method, returns the author for the block
         */
        get author() {
            return __classPrivateFieldGet(this, _Implementation_author, "f");
        }
    }
    _Implementation_author = new WeakMap();
    return new Implementation(registry, header, validators, author);
}
