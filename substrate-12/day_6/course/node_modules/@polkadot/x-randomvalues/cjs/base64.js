"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.base64Decode = void 0;
const chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';
const map = new Uint8Array(256);
for (let i = 0; i < chars.length; i++) {
    map[chars.charCodeAt(i)] = i;
}
function base64Decode(data) {
    const bytes = [];
    let byte = 0;
    let bits = 0;
    for (let i = 0; i < data.length && data[i] !== '='; i++) {
        // each character represents 6 bits
        byte = (byte << 6) | map[data.charCodeAt(i)];
        // each byte needs to contain 8 bits
        if ((bits += 6) >= 8) {
            bytes.push((byte >>> (bits -= 8)) & 0xff);
        }
    }
    return Uint8Array.from(bytes);
}
exports.base64Decode = base64Decode;
