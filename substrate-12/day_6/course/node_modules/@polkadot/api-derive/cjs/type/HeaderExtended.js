"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.createHeaderExtended = void 0;
const tslib_1 = require("tslib");
const util_js_1 = require("./util.js");
function createHeaderExtended(registry, header, validators, author) {
    var _Implementation_author;
    // an instance of the base extrinsic for us to extend
    const HeaderBase = registry.createClass('Header');
    class Implementation extends HeaderBase {
        constructor(registry, header, validators, author) {
            super(registry, header);
            _Implementation_author.set(this, void 0);
            tslib_1.__classPrivateFieldSet(this, _Implementation_author, author || (0, util_js_1.extractAuthor)(this.digest, validators || []), "f");
            this.createdAtHash = header?.createdAtHash;
        }
        /**
         * @description Convenience method, returns the author for the block
         */
        get author() {
            return tslib_1.__classPrivateFieldGet(this, _Implementation_author, "f");
        }
    }
    _Implementation_author = new WeakMap();
    return new Implementation(registry, header, validators, author);
}
exports.createHeaderExtended = createHeaderExtended;
